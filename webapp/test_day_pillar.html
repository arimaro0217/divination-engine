<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ—¥æŸ±è¨ˆç®—ãƒ†ã‚¹ãƒˆ</title>
    <style>
        body {
            font-family: "Noto Sans JP", sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }

        .result {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-top: 20px;
        }

        h1 {
            color: #333;
            border-bottom: 3px solid #4CAF50;
            padding-bottom: 10px;
        }

        .pillar {
            font-size: 24px;
            font-weight: bold;
            color: #4CAF50;
            margin: 10px 0;
        }

        .info {
            color: #666;
            margin: 5px 0;
        }

        .success {
            color: #4CAF50;
            font-weight: bold;
        }

        .error {
            color: #f44336;
            font-weight: bold;
        }
    </style>
</head>

<body>
    <h1>ğŸ” æ—¥æŸ±è¨ˆç®—ãƒ†ã‚¹ãƒˆï¼ˆJavaScriptç‰ˆï¼‰</h1>

    <div class="result" id="result">
        <p>è¨ˆç®—ä¸­...</p>
    </div>

    <!-- JavaScriptãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾ç­–ã®ãŸã‚ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ä»˜ãï¼‰ -->
    <script src="js/astro-calc.js?v=<?php echo time(); ?>"></script>
    <script src="js/chinese-calendar.js?v=<?php echo time(); ?>"></script>

    <script>
        // ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
        const testDate = new Date(1992, 1, 17, 17, 18); // 1992å¹´2æœˆ17æ—¥ 17:18

        const result = ChineseCalendar.calcFourPillars(testDate);

        const dayPillar = result.day.stem + result.day.branch;
        const expected = "ç™¸äº¥";
        const isCorrect = dayPillar === expected;

        document.getElementById('result').innerHTML = `
            <div class="info">ãƒ†ã‚¹ãƒˆæ—¥æ™‚: 1992å¹´2æœˆ17æ—¥ 17:18 JST</div>
            <div class="pillar">æ—¥æŸ±: ${dayPillar}</div>
            <div class="info">æœŸå¾…çµæœ: ${expected}</div>
            <div class="${isCorrect ? 'success' : 'error'}">
                ${isCorrect ? 'âœ“ æ­£ã—ã„ï¼' : 'âœ— é–“é•ã£ã¦ã„ã¾ã™'}
            </div>
            
            <hr style="margin: 20px 0;">
            
            <h3>å››æŸ±è©³ç´°</h3>
            <div class="info">å¹´æŸ±: ${result.year.stem}${result.year.branch}</div>
            <div class="info">æœˆæŸ±: ${result.month.stem}${result.month.branch}</div>
            <div class="info">æ—¥æŸ±: ${result.day.stem}${result.day.branch}</div>
            <div class="info">æ™‚æŸ±: ${result.hour.stem}${result.hour.branch}</div>
            
            <hr style="margin: 20px 0;">
            
            <h3>ãƒ•ã‚¡ã‚¤ãƒ«æƒ…å ±</h3>
            <div class="info">chinese-calendar.js ãŒæ­£ã—ãèª­ã¿è¾¼ã¾ã‚Œã¾ã—ãŸ</div>
            <div class="info">calcDayPillar ãƒ¡ã‚½ãƒƒãƒ‰: ${typeof ChineseCalendar.calcDayPillar}</div>
            <div class="info">ç¾åœ¨æ™‚åˆ»: ${new Date().toLocaleString('ja-JP')}</div>
        `;
    </script>
</body>

</html>